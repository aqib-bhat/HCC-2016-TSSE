<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Technology Shopping Support Environment</title>

    <!-- Bootstrap -->
    <link href="bootstrap-3.3.6-dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap-3.3.6-dist/js/bootstrap.min.js"></script>
    <script src="js/TSSE.js"></script>

<!-- Sticky Notes Scripts: START -------------------------------------------------------------------------------- -->
        <link rel="stylesheet" type="text/css" href="J_Sticky_Notes/css/style.css" media="screen"/>
		<style>
			body{
				background: #fcfef4 url(bg.png) repeat-x top left;
				font-family: arial;
				padding:0px;
				margin:0px;
			}
			a{
				color:#fcfef4;
				text-decoration:none;
			}
			a:hover{
				color:#fff;
			}
			.header{
				position:absolute;
				top:0px;
				left:0px;
				background:transparent url(header.png) no-repeat top left;
				width:100%;
				height:104px;
			}
			a img{
				border:none;
				outline:none;
			}
			.content{
				position:absolute;
				top:105px;
				left:0px;
				right:0px;
				padding:0px;
				margin:0px;
				height:550px;
			}
			.about{
				position:absolute;
				top:655px;
				left:0px;
				width:100%;
				height:400px;
				background:transparent url(about.png) repeat-x top left;
				border-top:2px solid #ccc;				
			}
			.about .text{
				width:20%;
				margin:5px 2% 10px 2%;
				height:380px;
				float:left;		
				color:#FCFEF3;		
				font-weight:bold;
				font-size: 11px;
				text-align:justify;
			}
			.about .text h1{
				border-bottom: 1px dashed #ccc;
			}
			ul.demos{
				list-style-type:none;
				position:absolute;
				top:100px;
				right:2px;
				padding:0px;
				margin:0px;
				z-index:9999;
			}
			ul.demos li{
				background-color:#3C3C3C;
				display:inline;
				color:#FEFEE7;
				font-weight:bold;
				float:left;
				padding:2px 4px 2px 4px;
				margin:2px;
				-moz-border-radius:0px 0px 5px 5px;
				-webkit-border-bottom-left-radius: 5px;
				-webkit-border-bottom-right-radius: 5px;
				-khtml-border-bottom-left-radius: 5px;
				-khtml-border-bottom-right-radius: 5px;
				-moz-box-shadow: 0 1px 3px #777;
				cursor:pointer;
				border:1px solid #ECEDD5;
				border-top:none;
			}
			.descr{
				position:absolute;
				font-size:18px;
				color:#ccc;
				margin: 0 auto;
				top:135px;
				text-align:center;
				width:100%;
			}
		</style>

		<script type="text/javascript" src="J_Sticky_Notes/jquery-1.3.2.js"></script>
		<script src="J_Sticky_Notes/jquery.stickynote.js" type="text/javascript"></script>
		<script type="text/javascript" src="J_Sticky_Notes/ui.core.js"></script>
		<script type="text/javascript" src="J_Sticky_Notes/ui.draggable.js"></script>
		<script type="text/javascript">
		$(function() {
			$("#content").stickynote({
				size 			 : 'large',
				text			 : 'Don\'t forget to buy beans!',
				containment		 : 'content',
				event			 : 'dblclick'
			});
			
			$("#testclick").stickynote({
				size 			 : 'large',
				containment		 : 'content'
			});
			
			$("#testsmall").stickynote();
			
			$("#testcolor").stickynote({
				color			: '#FF0000',
				ontop			: true
			});
			
		});
		</script>
<!-- Sticky Notes Scripts: END -------------------------------------------------------------------------------- -->

  </head>
  <body>
    <div class="panel panel-default">
      <div class="panel-body"><h1>Technology Shopping Support Environment</h1></div>
    </div>

<!-- Sticky Notes HTML: START ---------------------------------------------------------------------------------- -->
		<div class="header"></div>
		<ul class="demos">
			<li id="testclick">Sticky Note 1</li>
			<li id="testsmall">Sticky Note 2</li>
			<li id="testcolor">Sticky Note 3</li>	
		</ul>
		<div id="content" class="content">
		</div> 	
<!-- Sticky Notes HTML: END ---------------------------------------------------------------------------------- -->

    <div class="well">
    <div class="container">
    <form rule="form" class="form-horizontal" action="submit">
      <div class="form-group">
        <h2> Enter your preferences to help us find the mobile phone of your choice:</h2>
      </div>

      <div class="form-group">
      <label for="brand">Brand:</label>
      <input type="checkbox" name="brand" value="Apple"> Apple</input>
      <input type="checkbox" name="brand" value="Samsung"> Samsung</input>
      <input type="checkbox" name="brand" value="LG"> LG</input>
      <input type="checkbox" name="brand" value="HTC"> HTC</input>
      <input type="checkbox" name="brand" value="Google"> Google</input>
      <input type="checkbox" name="brand" value="Nokia"> Nokia</input>
      <input type="checkbox" name="brand" value="Lenovo"> Lenovo</input>
      </div>
      
      <div class="form-group">
      <label for="priceRange">Price range:</label>
      $&nbsp;<input type="text" name="priceRange" id="priceRange_low" value="" placeholder="Min. you want to pay"></input>&nbsp;to 
      $&nbsp;<input type="text" name="priceRange" id="priceRange_low" value="" placeholder="Max. you can pay"></input>
      </div>
  
      <div class="form-group">
        <label for="screenSize">Screen size:</label>
        <input type="text" name="screenSize" id="screenSize_low" value="" placeholder="Minimum"></input>&nbsp;in to 
        <input type="text" name="screenSize" id="screenSize_high" value="" placeholder="Maximum"></input>&nbsp;in
      </div>
  
      <div class="form-group">
        <label for="batteryCapacity">Minimum Battery Capacity:</label>
        <input type="text" name="batteryCapacity" value=""></input>&nbsp;mAh 
      </div>
  
      <div class="form-group">
        <label for="mainCamMinR">Main Camera minimum resolution:</label>
        <input type="text" name="mainCamMinR" value=""></input>&nbsp;Mega-pixels 
      </div>
  
      <div class="form-group">
        <label for="mainCamMinR">Front Camera minimum resolution:</label>
       <input type="text" name="mainCamMinR" value=""></input>&nbsp;Mega-pixels 
      </div>
  
      <div class="form-group">
       <label for="intMem">Internal Memory minimum storage:</label>
       <input type="checkbox" name="intMem" value="4"> 4 GB</input>
       <input type="checkbox" name="intMem" value="8"> 8 GB</input>
       <input type="checkbox" name="intMem" value="16"> 16 GB</input>
       <input type="checkbox" name="intMem" value="32"> 32 GB</input>
       <input type="checkbox" name="intMem" value="64"> 64 GB</input>
      </div>

      <div class="form-group">
        <label for="extMem">Extensible Memory:</label>
        <input type="radio" name="extMem" value="Yes"> Yes</input>
        <input type="radio" name="extMem" value="No"> No</input>
      </div>
  
      <div class="form-group">
        <label for="opSys">Operating System:</label>
        <input type="checkbox" name="opSys" value="Android"> Android</input>
        <input type="checkbox" name="opSys" value="iOS"> iOS</input>
        <input type="checkbox" name="opSys" value="Windows"> Windows</input>
      </div>
  
      <div class="form-group">
        <label for="contractOrLocked">Contract / Locked:</label>
        <input type="radio" name="contractOrLocked" value="Yes"> Yes</input>
        <input type="radio" name="contractOrLocked" value="No"> No</input>
      </div>
  
      <div class="form-group">
        <label for="noContractCarrier">No-Contract Cell Phone Carrier:</label>
        <input type="checkbox" name="noContractCarrier" value="T-Mobile"> T-Mobile</input>
        <input type="checkbox" name="noContractCarrier" value="Verizon Wireless"> Verizon Wireless</input>
        <input type="checkbox" name="noContractCarrier" value="Virgin Mobile"> Virgin Mobile</input>
        <input type="checkbox" name="noContractCarrier" value="Boost Mobile"> Boost Mobile</input>
      </div>
  
      <div class="form-group">
        <label for="network">Network:</label>
        <input type="checkbox" name="network" value="Dual band"> Dual band</input>
        <input type="checkbox" name="network" value="3G"> 3G</input>
        <input type="checkbox" name="network" value="Tri Band"> Tri Band</input>
        <input type="checkbox" name="network" value="GSM"> GSM</input>
        <input type="checkbox" name="network" value="Quad band"> Quad band</input>
      </div>
  
      <div class="form-group">
        <label for="condition">Condition:</label>
        <input type="checkbox" name="condition" value="New"> New</input>
        <input type="checkbox" name="condition" value="Used"> Used</input>
      </div>
  
      <div class="form-group">
        <button type="button" class="btn btn-info btn-block" onclick="preferenceSubmitted();"><span class="glyphicon glyphicon-search"></span> Search</button>
      </div>
  
   </form>
   </div>
   </div>
   <div class="well">
   <div class="container" id="searchResults" style="display:none;">
     <button type="button" class="btn btn-success btn-block" onclick="compareNow();"><span class="glyphicon glyphicon-arrow-right"></span><span class="glyphicon glyphicon-arrow-left"></span> Compare Now!</button>
     <div class="row">
       <h3>Row_1</h3>
       <div class="col-sm-4"><ul data-role="listview" data-inset="true" id="searchResult_1"></ul></div>
       <div class="col-sm-4"><ul data-role="listview" data-inset="true" id="searchResult_2"></ul></div>
       <div class="col-sm-4"><ul data-role="listview" data-inset="true" id="searchResult_3"></ul></div>
     </div>
     <div class="row">
       <h3>Row_2</h3>
       <div class="col-sm-4"><ul data-role="listview" data-inset="true" id="searchResult_4"></ul></div>
       <div class="col-sm-4"><ul data-role="listview" data-inset="true" id="searchResult_5"></ul></div>
       <div class="col-sm-4"><ul data-role="listview" data-inset="true" id="searchResult_6"></ul></div>
     </div>
   </div>
   </div>

    <script>
      $(function() {
        var output = '';
        var searchResult_num = 0;
        var jsonFilePath = '';
        var rootNodeObj;
        var imagePath;

        var sources = {
          "source_Website": [
            {"name":"amazon"},{"name":"bestbuy"},{"name":"ebay"}
          ]
        };

        $.each(sources.source_Website, function(i, f) {
          for (var j = 1; j <= 2; j++) {
            jsonFilePath = 'BigSemantics_data/' + f.name + '/' + f.name + '_Phone_' + j + '_Metadata.json';
            $.getJSON(jsonFilePath, function(data) {
            switch(f.name){
	      case 'amazon':
	        rootNodeObj = data.amazon_product;
	        break;
	      case 'bestbuy':
	        rootNodeObj = data.bestbuy_product;
	        break;
	      default:
	        rootNodeObj = data.ebay_product;
	    }
            $.each(rootNodeObj, function(key, value) {
	      switch(key){
	        case 'main_images':
         	  $.each(value, function(key, value){
	            $.each(value, function(key, value){
        	      if(key == 'location') {imagePath = value};
	            });
	          });
                  output += '<li><img class=img-responsive src=' + imagePath + '></img></li>';
                  break;
                default:
                  output += '<li><b>' + key + '</b>';
                  output += '<span>: ' + value + '</span></li>';
	      }
            });
            $("[id=searchResult_"+searchResult_num+"]").html(output);
            output = '';
            });
            searchResult_num = searchResult_num + 1;
          }
        });
      });
    </script>

  </body>
</html>
